{"version":3,"sources":["src/dom.js"],"names":["window","dom","CE","content","container","document","createElement","innerHTML","trim","con","children","length","firstChild","arr","Array","from","console","log","after","target","sibling","parentElement","insertBefore","nextElementSibling","before","appendA","child","appendChild","appendB","wrap","parent","model","arguments","remove","removeChild","empty","r","i","firstElementChild","push","attr","name","value","setAttribute","getAttribute","str","undefined","innerContent","style","key","AC","isArray","classList","add","RC","CC","targetClass","replace","on","type","fn","addEventListener","off","removeEventListener","find","querySelectorAll","parentNode","childN","childNodes","siblings","brother","next","previous","previousElementSibling","each","nodeList","call","index"],"mappings":"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","file":"dom.b63646c9.js","sourceRoot":"..","sourcesContent":["window.dom = {\r\n  CE(content) {\r\n    //createElement/createElements\r\n    //dom.CE(\"<div><div>123</div></div>\")\r\n    //支持嵌套\r\n    //如果一次创建多个元素，返回一个数组，一个就返回一个元素\r\n\r\n    let container = document.createElement(\"template\");\r\n    container.innerHTML = content.trim(); //string.trim()去掉字符串两边的空格\r\n\r\n    let con = container.content.children;\r\n    if (con.length === 1) {\r\n      return container.content.firstChild;\r\n    } else {\r\n      let arr = [];\r\n      arr = Array.from(con);\r\n      console.log(arr);\r\n      return arr;\r\n    }\r\n\r\n    //因为template会创建一个特殊的Document（没有父对象的最小文档对象）\r\n    //template.content所返回的内容就是这个对象里面的元素（Element）\r\n  },\r\n  after(target, sibling) {\r\n    target.parentElement.insertBefore(sibling, target.nextElementSibling);\r\n    //node.nextElementSibling和node.nextSibling第一个是只遍历元素，第二个是所有的节点\r\n  },\r\n  before(target, sibling) {\r\n    target.parentElement.insertBefore(sibling, target);\r\n  },\r\n  appendA(target, child) {\r\n    console.log(target);\r\n    target.appendChild(child);\r\n  },\r\n  appendB(target, child) {\r\n    dom.before(target.firstChild, child);\r\n  },\r\n  wrap(target, parent, model) {\r\n    //两种模式，第一种是将元素放在新爸爸最后面，第二种是放最前面\r\n    dom.before(target, parent);\r\n    if (arguments.length === 3) {\r\n      console.log(parent);\r\n      dom.appendA(parent, target);\r\n    } else {\r\n      dom.appendB(parent, target);\r\n    }\r\n  },\r\n  remove(target) {\r\n    //有一个比较新的方法其实已经可以实现remove了，只是浏览器的支持度不高\r\n    //node.remove();\r\n    target.parentElement.removeChild(target);\r\n    return target; //返回被删的内容\r\n  },\r\n  empty(target, model) {\r\n    let arr = [];\r\n    let r = null;\r\n    console.log(model);\r\n    if (model) {\r\n      //只删除element\r\n      let length = target.children.length;\r\n      for (let i = 0; i < length; i++) {\r\n        console.log(target.firstElementChild);\r\n        r = dom.remove(target.firstElementChild);\r\n\r\n        arr.push(r);\r\n      }\r\n    } else {\r\n      //这种会删除全部的Node\r\n      //还有while的写法和上面的都可以推荐下面这一种\r\n      while (target.firstChild) {\r\n        r = dom.remove(target.firstChild);\r\n\r\n        arr.push(r);\r\n      }\r\n    }\r\n\r\n    return arr;\r\n  },\r\n  attr(target, name, value) {\r\n    if (arguments.length === 3) {\r\n      target.setAttribute(name, value);\r\n    } else {\r\n      return target.getAttribute(name);\r\n    }\r\n  },\r\n  content(target, str, model) {\r\n    //HTML+text\r\n    if (str === undefined) {\r\n      console.log(target.innerContent);\r\n      return target.innerHTML;\r\n    } else {\r\n      //为了预防目标元素中有其他内容\r\n      //第一种是将内容放在原内容的后面\r\n      if (model) target.innerHTML += str;\r\n      //第二种是将内容放在原内容的前面\r\n      else target.innerHTML = str + target.innerHTML;\r\n    }\r\n  },\r\n  style(target, content, value) {\r\n    if (arguments.length === 3) {\r\n      target.style[content] = value;\r\n    } else {\r\n      if (typeof content === \"string\") {\r\n        return target[content];\r\n      } else {\r\n        for (let key in content) {\r\n          target.style[key] = content[key];\r\n        }\r\n      }\r\n    }\r\n  },\r\n  AC(target, value) {\r\n    //value 支持直接输入一个数组\r\n    //...xxx叫展开语法\r\n    if (Array.isArray(value)) target.classList.add(...value);\r\n    else target.classList.add(value);\r\n  },\r\n  RC(target, value) {\r\n    //也支持数组\r\n    if (Array.isArray(value)) target.classList.remove(...value);\r\n    else target.classList.remove(value);\r\n  },\r\n  CC(target, targetClass, value) {\r\n    target.classList.replace(targetClass, value);\r\n  },\r\n  on(target, type, fn) {\r\n    console.log(\"hehe\");\r\n    target.addEventListener(type, fn);\r\n  },\r\n  off(target, type, fn) {\r\n    target.removeEventListener(type, fn);\r\n  },\r\n  find(str, target) {\r\n    if (arguments.length === 2) {\r\n      return target.querySelectorAll(str);\r\n    } else {\r\n      return document.querySelectorAll(str);\r\n    }\r\n  },\r\n  parent(target) {\r\n    //parentNode和parentElement没啥区别，\r\n    //ParentNode是W3C的标准\r\n    //parentElement是IE的标准\r\n    return target.parentNode;\r\n  },\r\n  children(target, childN) {\r\n    //argument.length为2时，获取的是子节点\r\n    //为1时获取的是子元素\r\n    if (arguments.length === 2) {\r\n      return target.childNodes;\r\n    } else {\r\n      return target.children;\r\n    }\r\n  },\r\n  siblings(target) {\r\n    let brother = dom.parent(target).children;\r\n    let arr = [];\r\n    for (let i = 0; i < brother.length; i++) {\r\n      if (brother[i] !== target) {\r\n        arr.push(brother[i]);\r\n      }\r\n    }\r\n    if (arr.length === 0) {\r\n      console.log(\"它没有兄弟\");\r\n    } else {\r\n      return arr;\r\n    }\r\n  },\r\n  next(target) {\r\n    return target.nextElementSibling;\r\n  },\r\n  previous(target) {\r\n    return target.previousElementSibling;\r\n  },\r\n  each(nodeList, fn) {\r\n    for (let i = 0; nodeList.length; i++) {\r\n      fn.call(null, nodeList[i], i);\r\n    }\r\n  },\r\n  index(target) {\r\n    let brother = dom.parent(target).children;\r\n\r\n    for (let i = 0; i < brother.length; i++) {\r\n      if (brother[i] === target) {\r\n        return i;\r\n      }\r\n    }\r\n  },\r\n};\r\n"]}